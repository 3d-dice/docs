"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[408],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=l.createContext({}),d=function(e){var t=l.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=d(e.components);return l.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=d(n),m=a,h=u["".concat(s,".").concat(m)]||u[m]||p[m]||r;return n?l.createElement(h,o(o({ref:t},c),{},{components:n})):l.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:a,o[1]=i;for(var d=2;d<r;d++)o[d]=n[d];return l.createElement.apply(null,o)}return l.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3362:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var l=n(7462),a=(n(7294),n(3905));const r={sidebar_position:3},o="Advanced Roller",i={unversionedId:"addons/advRoller",id:"addons/advRoller",title:"Advanced Roller",description:"The Advanced Roller module is a part of the @3d-dice/dice-ui package. This UI module provides a simple text input field and a clear button. The field is connect to Dice Parser Interface. On submit, the field will send the roll notation to FDP to be parsed and will return the result to the callback onSubmit. The clear button will clear out any values stored in the parser and invokes the onClear callback, which is usually a good place to clear your dice-box as well.",source:"@site/docs/addons/advRoller.md",sourceDirName:"addons",slug:"/addons/advRoller",permalink:"/docs/addons/advRoller",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/addons/advRoller.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docs",previous:{title:"Dice Parser Interface",permalink:"/docs/addons/parser"},next:{title:"Dice Picker",permalink:"/docs/addons/dicePicker"}},s={},d=[{value:"Install",id:"install",level:2},{value:"Setup",id:"setup",level:2},{value:"Config Options",id:"config-options",level:3},{value:"Methods",id:"methods",level:2},{value:"Custom Events",id:"custom-events",level:2},{value:"resultsAvailable",id:"resultsavailable",level:3},{value:"Callbacks",id:"callbacks",level:2},{value:"onSubmit",id:"onsubmit",level:3},{value:"onClear",id:"onclear",level:3},{value:"onReroll",id:"onreroll",level:3},{value:"onResults",id:"onresults",level:3}],c={toc:d};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,l.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"advanced-roller"},"Advanced Roller"),(0,a.kt)("p",null,"The Advanced Roller module is a part of the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/3d-dice/dice-ui"},"@3d-dice/dice-ui")," package. This UI module provides a simple text input field and a clear button. The field is connect to ",(0,a.kt)("a",{parentName:"p",href:"/docs/addons/parser"},"Dice Parser Interface"),". On submit, the field will send the roll notation to FDP to be parsed and will return the result to the callback ",(0,a.kt)("inlineCode",{parentName:"p"},"onSubmit"),". The clear button will clear out any values stored in the parser and invokes the ",(0,a.kt)("inlineCode",{parentName:"p"},"onClear")," callback, which is usually a good place to clear your dice-box as well."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Advanced Roller Screenshot",src:n(388).Z,width:"530",height:"142"})),(0,a.kt)("h2",{id:"install"},"Install"),(0,a.kt)("p",null,"Add the dice-ui module using"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install @3d-dice/dice-ui\n")),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"Then create a new instance of the roller"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import { AdvancedRoller } from '@3d-dice/dice-ui'\n\nconst Roller = new AdvancedRoller()\n")),(0,a.kt)("h3",{id:"config-options"},"Config Options"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"AdvancedRoller")," only has one argument which is a config object"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Option"),(0,a.kt)("th",{parentName:"tr",align:null},"type"),(0,a.kt)("th",{parentName:"tr",align:null},"default"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"target"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"string")," :dom node selector"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"document.body")),(0,a.kt)("td",{parentName:"tr",align:null},"The target DOM node to inject the roller into")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"#onsubmit"},"onSubmit")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function")),(0,a.kt)("td",{parentName:"tr",align:null},"noop"),(0,a.kt)("td",{parentName:"tr",align:null},"callback triggered on form submit, after notation has been parsed")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"#onclear"},"onClear")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function")),(0,a.kt)("td",{parentName:"tr",align:null},"noop"),(0,a.kt)("td",{parentName:"tr",align:null},"callback triggered when form reset event is triggered")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"#onreroll"},"onReroll")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function")),(0,a.kt)("td",{parentName:"tr",align:null},"noop"),(0,a.kt)("td",{parentName:"tr",align:null},"callback triggered when FDP returns reroll results")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"#onresults"},"onResults")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function")),(0,a.kt)("td",{parentName:"tr",align:null},"noop"),(0,a.kt)("td",{parentName:"tr",align:null},"callback triggered when there are no reRoll results and the final result object has been parsed by FDP")))),(0,a.kt)("h2",{id:"methods"},"Methods"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Method"),(0,a.kt)("th",{parentName:"tr",align:null},"Arguments"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"submitForm"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"event")," :event - form submit"),(0,a.kt)("td",{parentName:"tr",align:null},"Take the submit event and passes the input notation to FDP. Calls ",(0,a.kt)("inlineCode",{parentName:"td"},"onSubmit")," callback with results.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"clear"),(0,a.kt)("td",{parentName:"tr",align:null},"none"),(0,a.kt)("td",{parentName:"tr",align:null},"Clears any values stored in FDP. Calls the ",(0,a.kt)("inlineCode",{parentName:"td"},"onClear")," callback")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"handleResults"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"results")," :object"),(0,a.kt)("td",{parentName:"tr",align:null},"Passes roll results object to FDP to check for rerolls. Gets the final parsed results from FDP. Calls ",(0,a.kt)("inlineCode",{parentName:"td"},"onResults")," callback")))),(0,a.kt)("h2",{id:"custom-events"},"Custom Events"),(0,a.kt)("h3",{id:"resultsavailable"},"resultsAvailable"),(0,a.kt)("p",null,"When the final results are available, a custom event called ",(0,a.kt)("inlineCode",{parentName:"p"},"resultsAvailable")," is also dispatched. The final results object can be found on the ",(0,a.kt)("inlineCode",{parentName:"p"},"event.details")," property."),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"document.addEventListener('resultsAvailable', (e) => console.log('roll results: ', e.detail))\n")),(0,a.kt)("h2",{id:"callbacks"},"Callbacks"),(0,a.kt)("p",null,"The advanced roller lets you decide what to do with the results the parser returns. "),(0,a.kt)("h3",{id:"onsubmit"},"onSubmit"),(0,a.kt)("p",null,"After the value of the notation input has been processed by FDP, this callback is triggered, passing back the notation object generated by FDP. This can then be passed onto Dice-Box for rolling."),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const Roller = new AdvancedRoller({\n  target: '#roller',\n  // highlight-start\n  onSubmit: (notation) => {\n    diceBox.roll(notation)\n  }\n  // highlight-end\n})\n")),(0,a.kt)("h3",{id:"onclear"},"onClear"),(0,a.kt)("p",null,"After clearing out out any values remaining in FDP, this callback is trigger to allow for follow-up actions in the scene"),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const Roller = new AdvancedRoller({\n  target: '#roller',\n  onSubmit: (notation) => {\n    diceBox.roll(notation)\n  },\n  // highlight-start\n  onClear: () => {\n    diceBox.clear()\n    Display.clear()  // Display refers to Display Results module available in @3d-dice/dice-ui\n  }\n  // highlight-end\n})\n")),(0,a.kt)("h3",{id:"onreroll"},"onReroll"),(0,a.kt)("p",null,"When the ",(0,a.kt)("inlineCode",{parentName:"p"},"handleResults")," method is called FDP will parse rollResults looking for anything that would trigger a reroll. If the right conditions are met then DRP will return an array of dice objects that need a reroll. The array is then passed on to this callback to be handled as you see fit."),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const Roller = new AdvancedRoller({\n  target: '#rollers',\n  onSubmit: (notation) => {\n    diceBox.roll(notation)\n  },\n  onClear: () => {\n    diceBox.clear()\n    Display.clear()\n  },\n  // highlight-start\n  onReroll: (rolls) => {\n    rolls.forEach(roll => diceBox.add(roll))\n  }\n  // highlight-end\n})\n")),(0,a.kt)("h3",{id:"onresults"},"onResults"),(0,a.kt)("p",null,"This callback is triggered when the ",(0,a.kt)("inlineCode",{parentName:"p"},"handleResults")," method has determined that there are no reroll results and the ",(0,a.kt)("a",{parentName:"p",href:"/docs/usage/objects#roll-result-array-object"},"final result object")," has been parsed by FDP. The final result object is passed on to this callback to be handled as you see fit."),(0,a.kt)("p",null,"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const Roller = new AdvancedRoller({\n  target: '#rollers',\n  onSubmit: (notation) => {\n    diceBox.roll(notation)\n  },\n  onClear: () => {\n    diceBox.clear()\n    Display.clear()\n  },\n  onReroll: (rolls) => {\n    rolls.forEach(roll => diceBox.add(roll))\n  },\n  // highlight-start\n  onResults: (results) => {\n    Display.showResults(results)  // Display refers to Display Results module available in @3d-dice/dice-ui\n  }\n  // highlight-end\n})\n")))}u.isMDXComponent=!0},388:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/advRoller-73ab0eeac3552ca00dd665f10efb38c5.jpg"}}]);